<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Responsive Highcharts</title>
  <script src="https://code.highcharts.com/10/highcharts.js"></script>
  <style>
    /* Ensure the container fills the parent widget and maintains responsiveness */
    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
    }
    #container {
      width: 100%;
      height: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
    }
  </style>
</head>
<body>
  <!-- The container for the Highcharts graph -->
  <div id="container"></div>
  <noscript>
    <p>JavaScript is required to view this chart. Please enable JavaScript in your browser.</p>
  </noscript>

  <script>
    let chart; // Declare the chart variable globally

    document.addEventListener('DOMContentLoaded', function () {
      chart = Highcharts.chart('container', {
        chart: {
          type: 'column',
          height: null, // Allows Highcharts to adapt to the container height
        },
        title: {
          text: 'Διελεύσεις ανά operator',
        },
        xAxis: {
          categories: ['gefyra', 'aegeanmotorway', 'kentrikiodos', 'egnatia', 'moreas', 'naodos', 'neaodos', 'olympiaodos'],
        },
        yAxis: {
          title: {
            text: '#Διελεύσεων',
          },
        },
        series: [
          {
            name: 'Διελεύσεις',
            data: [550, 700, 350, 420, 200, 455, 680, 300],
          },
        ],
        responsive: {
          rules: [
            {
              condition: {
                maxWidth: 500, // Adjusts layout for small screens
              },
              chartOptions: {
                legend: {
                  layout: 'horizontal',
                  align: 'center',
                  verticalAlign: 'bottom',
                },
              },
            },
          ],
        },
      });

      // Function to export chart as image
      window.exportChartAsImage = function (filename = 'chart_column') {
        chart.exportChartLocal({
          type: 'image/png',
          filename: filename,
        });
      };
    });
  </script>
</body>
</html>
